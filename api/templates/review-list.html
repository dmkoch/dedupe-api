{% extends 'base.html' %}
{% block content %}
<div class="row">
    <div class="col-md-12">
        <h4>Dedupe sessions ready for review</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Session ID</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="session-list"></tbody>
        </table>
    </div>
</div>
{% endblock %}
{% block extra_javascript %}
<script type='text/javascript'>
    $(document).ready(function(){
        $.when($.getJSON('/session-list/')).then(
          function(resp){
                var rows = ''
                $.each(resp.objects, function(i, object){
                    rows += '<tr><td>' + object.name + '</td>';
                    rows += '<td>' + object.id + '</td>';
                    rows += '<td><a href="/session-review/' + object.id + '/">Review Queue</a></td>';
                    rows += '<td><a href="/delete-session/' + object.id + '/">Delete</a></td>';
                    rows += '</tr>';
                });
                $('#session-list').html(rows);
            }
        )
    })
</script>
{% endblock %}
